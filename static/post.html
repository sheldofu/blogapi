<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

<body ng-app="app">
  <div ng-controller="PostsCtrl">
    <h1>Posts</h1>
    <form role='form'>
      <div class='form-group'>
        <div class="input-group">
          <input ng-model="postBody" class='form-control'>
          <span class='input-group-btn'>
            <button ng-click='addPost()' class='btn btn-default'>Add Post</button>
          </span>
        </div>
      </div>
    </form>
<!--    <ul class='posts list-group'>
      <li ng-repeat="post in posts | orderBy:'-date'" class='list-group-item'>
        <strong>@{{ post.username }}</strong>
        <span>{{ post.body }}</span>
      </li>
    </ul> -->
  </div>
</body>


<script>

var app = angular.module('app', [])

app.controller('PostsCtrl', function ($scope, $http) {

  $scope.addPost = function(){
    if ($scope.postBody) {
     $http.post('/blog',{
       title: 'test',
       text: $scope.postBody
     }).success(function(post) {
       $scope.postBody = null
       console.log('its been post')
     })
    }
  }

})

</script>